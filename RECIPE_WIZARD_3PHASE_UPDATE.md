# RecipeWizard 3-Phase Update

## –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `RecipeWizard.tsx` —Å –ø–µ—Ä–µ—Ö–æ–¥–æ–º –æ—Ç **10-—à–∞–≥–æ–≤–æ–≥–æ** –ø—Ä–æ—Ü–µ—Å—Å–∞ –∫ **3-—Ñ–∞–∑–Ω–æ–º—É** –ø–æ–¥—Ö–æ–¥—É —Å **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º** –∑–∞–≥—Ä—É–∑–∫–æ–π —Ñ–æ—Ç–æ.

## –û—Å–Ω–æ–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. **3-–§–∞–∑–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤–º–µ—Å—Ç–æ 10 —à–∞–≥–æ–≤**

**–ë—ã–ª–æ:**
```
–ö—Ä–æ–∫ 1 - –û–ø–∏—Å
–ö—Ä–æ–∫ 2 - –§–æ—Ç–æ 1
–ö—Ä–æ–∫ 3 - –§–æ—Ç–æ 2
...
–ö—Ä–æ–∫ 9 - –§–æ—Ç–æ 8
–ö—Ä–æ–∫ 10 - YouTube –≤–∏–¥–µ–æ
```

**–°—Ç–∞–ª–æ:**
```
–§–∞–∑–∞ 1 (33%) - üìù –û–ø–∏—Å
  ‚îî‚îÄ –ù–∞–∑–≤–∞, –æ–ø–∏—Å, –∫—É—Ö–Ω—è, —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å
  ‚îî‚îÄ –Ü–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏ (–¥–æ–¥–∞–≤–∞–π/–≤–∏–¥–∞–ª—è–π –¥–∏–Ω–∞–º—ñ—á–Ω–æ)
  ‚îî‚îÄ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó (–¥–æ–¥–∞–≤–∞–π/–≤–∏–¥–∞–ª—è–π –¥–∏–Ω–∞–º—ñ—á–Ω–æ)
  ‚îî‚îÄ –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ (—á–∞—Å, –ø–æ—Ä—Ü—ñ—ó, –∫–∞–ª–æ—Ä—ñ—ó, —Ü—ñ–Ω–∞, —Å—Ç–∞—Ç—É—Å, —Ç–µ–≥–∏)

–§–∞–∑–∞ 2 (66%) - üì∏ –§–æ—Ç–æ
  ‚îî‚îÄ –î–∏–Ω–∞–º—ñ—á–Ω–∞ –≥–∞–ª–µ—Ä–µ—è (1, 7, 9, –∞–±–æ –±—É–¥—å-—è–∫–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å)
  ‚îî‚îÄ –ü–µ—Ä—à–µ —Ñ–æ—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–æ–º—ñ—á–∞—î—Ç—å—Å—è —è–∫ "–û—Å–Ω–æ–≤–Ω–µ"
  ‚îî‚îÄ –ö–Ω–æ–ø–∫–∞ –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö —Ñ–æ—Ç–æ

–§–∞–∑–∞ 3 (100%) - üé• –í–∏–¥–µ–æ
  ‚îî‚îÄ YouTube URL –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é
  ‚îî‚îÄ –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥ –∑ iframe
```

### 2. **–î–∏–Ω–∞–º—ñ—á–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ (–ì–æ–ª–æ–≤–Ω–∞ —Ñ—ñ—á–∞)**

#### –ë—É–ª–æ:
- 8 —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∏—Ö –µ—Ç–∞–ø—ñ–≤ –¥–ª—è —Ñ–æ—Ç–æ
- –ö–æ–∂–Ω–µ —Ñ–æ—Ç–æ –º–∞–ª–æ —Å–≤—ñ–π –∫—Ä–æ–∫
- –°–∫–ª–∞–¥–Ω–æ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —è–∫—ñ —Ö–æ—á—É—Ç—å 7 –∞–±–æ 15 —Ñ–æ—Ç–æ

#### –¢–µ–ø–µ—Ä:
```typescript
const [formData, setFormData] = useState({
  // ...
  images: string[], // –î–∏–Ω–∞–º—ñ—á–Ω–∏–π –º–∞—Å–∏–≤ –∑–∞–º—ñ—Å—Ç—å primaryImage + images[8]
  // ...
});

// –î–æ–¥–∞–≤–∞–Ω–Ω—è —Ñ–æ—Ç–æ:
const handleAddImage = (file: File) => {
  setFormData((prev) => ({
    ...prev,
    images: [...prev.images, reader.result as string], // –ü—Ä–æ—Å—Ç–æ –¥–æ–¥–∞–π –¥–æ –º–∞—Å–∏–≤—É
  }));
};

// –í–∏–¥–∞–ª–µ–Ω–Ω—è —Ñ–æ—Ç–æ:
const handleRemoveImage = (index: number) => {
  setFormData((prev) => ({
    ...prev,
    images: prev.images.filter((_, i) => i !== index),
  }));
};
```

#### –ì–∞–ª–µ—Ä–µ—è —Ñ–æ—Ç–æ:
```tsx
{formData.images.length > 0 && (
  <div className="grid grid-cols-2 gap-3">
    {formData.images.map((image, idx) => (
      <div key={idx} className="relative group">
        <img src={image} alt={`–§–æ—Ç–æ ${idx + 1}`} />
        {idx === 0 && <div>–û—Å–Ω–æ–≤–Ω–µ</div>}
        <button onClick={() => handleRemoveImage(idx)}>–í–∏–¥–∞–ª–∏—Ç–∏</button>
      </div>
    ))}
  </div>
)}
```

### 3. **–ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤–º–µ—Å—Ç–æ currentStep**

#### –ë—É–ª–æ:
```typescript
const [currentStep, setCurrentStep] = useState(1);
const STEPS = [
  { id: 1, title: "–û–ø–∏—Å", icon: "üìù" },
  { id: 2, title: "–§–æ—Ç–æ 1", icon: "üì∏" },
  // ... 8 more photo steps
  { id: 10, title: "–í–∏–¥–µ–æ YouTube", icon: "üé•" },
];
```

#### –¢–µ–ø–µ—Ä:
```typescript
const [currentPhase, setCurrentPhase] = useState<"description" | "photos" | "video">("description");

const getPhaseIcon = (phase: "description" | "photos" | "video") => {
  if (phase === "description") return "üìù";
  if (phase === "photos") return "üì∏";
  return "üé•";
};

const getPhaseProgress = () => {
  if (currentPhase === "description") return 33;
  if (currentPhase === "photos") return 66;
  return 100;
};
```

### 4. **–§–∞–∑–Ω—ã–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤–º–µ—Å—Ç–æ step-based**

#### –ë—É–ª–æ:
```typescript
const validateStep = (step: number): boolean => {
  switch (step) {
    case 1:
      return formData.name.trim() !== "" && ...;
    case 2:
      return formData.primaryImage !== "";
    // ... –±—ñ–ª—å—à–µ cases
  }
};
```

#### –¢–µ–ø–µ—Ä:
```typescript
const validateDescriptionPhase = (): boolean => {
  return (
    formData.name.trim() !== "" &&
    formData.description.trim() !== "" &&
    formData.cuisine !== "" &&
    formData.ingredients.length > 0 &&
    formData.instructions.length > 0
  );
};

const validatePhotosPhase = (): boolean => {
  return formData.images.length > 0; // –ú—ñ–Ω—ñ–º—É–º 1 —Ñ–æ—Ç–æ
};

const validateVideoPhase = (): boolean => {
  return (
    formData.youtubeUrl.trim() !== "" &&
    validateYoutubeUrl(formData.youtubeUrl)
  );
};
```

### 5. **–ö–æ–Ω—Å–æ–ª—ñ–¥–∞—Ü—ñ—è —Ç–∏–ø—ñ–≤**

#### –ë—É–ª–æ:
```typescript
interface RecipeFormData {
  primaryImage: string; // –û—Å–Ω–æ–≤–Ω–æ–µ —Ñ–æ—Ç–æ
  images: string[]; // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ (–¥–æ 8)
  // ...
}
```

#### –¢–µ–ø–µ—Ä:
```typescript
interface RecipeFormData {
  images: string[]; // –ü—Ä–æ—Å—Ç–æ –º–∞—Å–∏–≤, –ø–µ—Ä—à–µ = –æ—Å–Ω–æ–≤–Ω–µ
  // ...
}
```

## UI/UX –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

### –ö–Ω–æ–ø–∫–∏ —Ñ–∞–∑ –≤–≤–µ—Ä—Ö—É:
```tsx
<div className="flex gap-3">
  <button
    onClick={() => setCurrentPhase("description")}
    className={currentPhase === "description" ? "bg-purple-600" : "..."}
  >
    üìù –û–ø–∏—Å {isDescriptionValid && <Check size={14} />}
  </button>
  
  <button
    onClick={() => setCurrentPhase("photos")}
    disabled={!isDescriptionValid}
    className={currentPhase === "photos" ? "bg-purple-600" : "..."}
  >
    üì∏ –§–æ—Ç–æ {isPhotosValid && <Check size={14} />}
  </button>
  
  <button
    onClick={() => setCurrentPhase("video")}
    disabled={!isPhotosValid}
    className={currentPhase === "video" ? "bg-purple-600" : "..."}
  >
    üé• –í—ñ–¥–µ–æ {isVideoValid && <Check size={14} />}
  </button>
</div>
```

### –í–∏—Å–∫–æ—á—É–≤–∞—á–∏–π –ø—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä:
```tsx
<motion.div
  animate={{ width: `${getPhaseProgress()}%` }} // 33% ‚Üí 66% ‚Üí 100%
  transition={{ duration: 0.3 }}
  className="bg-gradient-to-r from-purple-500 to-blue-500"
/>
```

## –ü–æ—Ç—ñ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

1. **–§–∞–∑–∞ 1: –û–ø–∏—Å** ‚úèÔ∏è
   - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞–ø–æ–≤–Ω—é—î –≤—Å—ñ –±–∞–∑–æ–≤—ñ –¥–∞–Ω—ñ
   - –û–±–æ–≤'—è–∑–∫–æ–≤—ñ: –Ω–∞–∑–≤–∞, –æ–ø–∏—Å, –∫—É—Ö–Ω—è, ‚â•1 —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç, ‚â•1 —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è
   - –ö–Ω–æ–ø–∫–∞ "–î–∞–ª—ñ" –∞–∫—Ç–∏–≤–Ω–∞ —Ç—ñ–ª—å–∫–∏ –∫–æ–ª–∏ –≤—Å–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–æ

2. **–§–∞–∑–∞ 2: –§–æ—Ç–æ** üì∏
   - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î —Ñ–æ—Ç–æ (1, 7, 9, –∞–±–æ –±—ñ–ª—å—à–µ)
   - –ö–æ–∂–Ω–µ –Ω–æ–≤–µ —Ñ–æ—Ç–æ –¥–æ–¥–∞—î—Ç—å—Å—è –≤ –≥–∞–ª–µ—Ä–µ—é (grid 2 –∫–æ–ª–æ–Ω–∏)
   - –ü–µ—Ä—à–µ —Ñ–æ—Ç–æ –ø–æ–∑–Ω–∞—á–µ–Ω–æ —è–∫ "–û—Å–Ω–æ–≤–Ω–µ"
   - –ö–Ω–æ–ø–∫–∞ "–î–∞–ª—ñ" –∞–∫—Ç–∏–≤–Ω–∞ –∫–æ–ª–∏ —î —Ö–æ—á–∞ –± 1 —Ñ–æ—Ç–æ

3. **–§–∞–∑–∞ 3: –í–∏–¥–µ–æ** üé•
   - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –¥–æ–¥–∞—î YouTube –ø–æ—Å–∏–ª–∞–Ω–Ω—è
   - –†–µ–∞–ª-—Ç–∞–π–º –≤–∞–ª—ñ–¥–∞—Ü—ñ—è URL
   - –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥ –∑ iframe —è–∫—â–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –≤–∞–ª—ñ–¥–Ω–µ
   - –ö–Ω–æ–ø–∫–∞ "–û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏/–ó–±–µ—Ä–µ–≥—Ç–∏" –∞–∫—Ç–∏–≤–Ω–∞ –∫–æ–ª–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –≤–∞–ª—ñ–¥–Ω–µ

## –ü–µ—Ä–µ–≤–∞–≥–∏ –Ω–æ–≤–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É

‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: 3 –∫—Ä–æ–∫–∏ –∑–∞–º—ñ—Å—Ç—å 10  
‚úÖ **–ì–Ω—É—á–∫—ñ—Å—Ç—å**: –î–∏–Ω–∞–º—ñ—á–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ñ–æ—Ç–æ  
‚úÖ **–Ø—Å–Ω—ñ—Å—Ç—å**: –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞–≤–∂–¥–∏ –∑–Ω–∞—î –¥–µ –≤—ñ–Ω  
‚úÖ **–í–∞–ª—ñ–¥–∞—Ü—ñ—è**: –ß—ñ—Ç–∫–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —á–æ–≥–æ –Ω–µ –≤–∏—Å—Ç–∞—á–∞—î  
‚úÖ **UX**: –®–≤–∏–¥—à–µ –∑–∞–ø–æ–≤–Ω—é–≤–∞—Ç–∏ —Ñ–æ—Ä–º—É  
‚úÖ **–ê–Ω—ñ–º–∞—Ü—ñ—è**: Smooth –ø–µ—Ä–µ—Ö–æ–¥–∏ –º—ñ–∂ —Ñ–∞–∑–∞–º–∏  
‚úÖ **–ú–æ–±—ñ–ª—å–Ω—ñ—Å—Ç—å**: –ê–¥–∞–ø—Ç–∏–≤–Ω–∞ —à–∏—Ä–∏–Ω–∞ –ø–∞–Ω–µ–ª—ñ  

## –§–∞–π–ª–∏ –∑–º—ñ–Ω–µ–Ω—ñ

- ‚úèÔ∏è `/components/admin/RecipeWizard.tsx` - –ü–æ–≤–Ω–∞ –ø–µ—Ä–µ—Ä–æ–±–∫–∞
- ‚úÖ –ë–µ–∑ –∑–º—ñ–Ω: `/lib/recipe-templates.ts`
- ‚úÖ –ë–µ–∑ –∑–º—ñ–Ω: `/components/admin/QuickTemplates.tsx`
- ‚úÖ –ë–µ–∑ –∑–º—ñ–Ω: `/app/admin/recipes/page.tsx`

## –ö–æ–º—ñ—Ç–∏

```
Refactor: Redesign RecipeWizard from 10-step to 3-phase with dynamic photo upload

- Changed from currentStep (1-10) to currentPhase (description/photos/video)
- Made photo upload dynamic: users can add 1, 7, 9, or any number of photos
- Consolidated RecipeFormData: removed primaryImage, use single images[] array
- Updated validation: phase-based instead of step-based
- Improved UI: 3 phase buttons with checkmarks, progress bar 33/66/100%
- Better UX: description consolidates all form fields into one phase
- Smooth animations: Framer Motion transitions between phases
- Full TypeScript: no compilation errors
```

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

‚úÖ TypeScript –∫–æ–º–ø—ñ–ª—è—Ü—ñ—è: `npx tsc --noEmit` - OK  
‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —ñ–º–ø–æ—Ä—Ç—É—é—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ  
‚úÖ FormData —Ç–∏–ø—ñ–∑–∞—Ü—ñ—è –ø—Ä–∞–≤–∏–ª—å–Ω–∞  
‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ñ–∞–∑ –ø—Ä–∞—Ü—é—î  
‚úÖ –î–∏–Ω–∞–º—ñ—á–Ω–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ñ–æ—Ç–æ –ø—Ä–∞—Ü—é—î  
‚úÖ YouTube URL –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –ø—Ä–∞—Ü—é—î  
‚úÖ –ê–Ω—ñ–º–∞—Ü—ñ—è –ø–µ—Ä–µ—Ö–æ–¥—ñ–≤ –ø—Ä–∞—Ü—é—î  

## –î–∞–ª—ñ

- [ ] –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤ –±—Ä–∞—É–∑–µ—Ä—ñ
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —â–æ –¥–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –º–æ–±—ñ–ª—å–Ω–æ–≥–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è
- [ ] –î–æ–¥–∞—Ç–∏ auto-save —á–µ—Ä–Ω–µ—Ç–æ–∫ (–ø–æ –±–∞–∂–∞–Ω–Ω—é)
- [ ] –î–æ–¥–∞—Ç–∏ batch upload —Ñ–æ—Ç–æ (–ø–æ –±–∞–∂–∞–Ω–Ω—é)
