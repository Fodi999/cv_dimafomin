# ‚úÖ –§–æ—Ç–æ –≤ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

## –ü—Ä–æ–±–ª–µ–º–∞
–§–æ—Ç–æ –∏–∑ –∫–∞—Ä—Ç–æ—á–µ–∫ —Ä–µ—Ü–µ–ø—Ç–æ–≤ **–Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å** –≤ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ (RecipeDetailsModal).

## –ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã
1. **localStorage –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ñ–æ—Ç–æ** - –º—ã —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (~0.8KB)
2. **–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–∑ localStorage** - —Ä–µ—Ü–µ–ø—Ç—ã –ø—Ä–∏—Ö–æ–¥—è—Ç –±–µ–∑ —Ñ–æ—Ç–æ (–º–∞—Å—Å–∏–≤ `images: []`)
3. **sessionStorage –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è** - —Ñ–æ—Ç–æ –Ω—É–∂–Ω–æ –±—ã–ª–æ –≥–¥–µ-—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—å –º–µ–∂–¥—É —Å–µ—Å—Å–∏–µ–π

## –†–µ—à–µ–Ω–∏–µ

### 1. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–æ—Ç–æ –≤ sessionStorage
–î–æ–±–∞–≤–ª–µ–Ω—ã –¥–≤–µ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

```tsx
// üîß –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ñ–æ—Ç–æ –æ–∫—Ä–µ–º–æ (–≤ sessionStorage)
const savePhotosToSession = (recipes: Recipe[]) => {
  try {
    const photosData = recipes.reduce((acc, recipe) => {
      if (recipe.images && recipe.images.length > 0) {
        acc[recipe.id] = recipe.images;
      }
      return acc;
    }, {} as Record<string, string[]>);
    
    sessionStorage.setItem("recipePhotos", JSON.stringify(photosData));
    console.log("üì∏ –§–æ—Ç–æ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –≤ sessionStorage");
  } catch (error) {
    console.error("‚ö†Ô∏è –ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ñ–æ—Ç–æ:", error);
  }
};

// üîß –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–æ—Ç–æ –∑ sessionStorage
const loadPhotosFromSession = (recipes: Recipe[]) => {
  try {
    const photosJson = sessionStorage.getItem("recipePhotos");
    if (photosJson) {
      const photosData = JSON.parse(photosJson);
      return recipes.map(recipe => ({
        ...recipe,
        images: photosData[recipe.id] || recipe.images || [],
      }));
    }
  } catch (error) {
    console.error("‚ö†Ô∏è –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–æ—Ç–æ:", error);
  }
  return recipes;
};
```

### 2. –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
–ö–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –º—ã —Ç–µ–ø–µ—Ä—å –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–æ—Ç–æ –∏–∑ sessionStorage:

```tsx
useEffect(() => {
  // ... –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ localStorage ...
  let recipesWithDates = parsedRecipes.map(recipe => ({
    ...recipe,
    createdAt: new Date(recipe.createdAt),
    updatedAt: new Date(recipe.updatedAt),
    ingredients: recipe.ingredients || [],
    instructions: recipe.instructions || [],
    images: recipe.images || [],
  }));
  
  // üîß –ó–∞–≥—Ä—É–∂–∞—î–º–æ —Ñ–æ—Ç–æ –∑ sessionStorage
  recipesWithDates = loadPhotosFromSession(recipesWithDates);
  
  setRecipes(recipesWithDates);
}, []);
```

### 3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–æ—Ç–æ –ø—Ä–∏ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
–¢—Ä–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ç–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω—è—é—Ç —Ñ–æ—Ç–æ:

```tsx
// –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–µ—Ü–µ–ø—Ç–∞
const updatedRecipes = [newRecipe, ...recipes];
savePhotosToSession(updatedRecipes);

// –ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
const updatedRecipes = recipes.map(r => 
  r.id === editingRecipe.id ? { ...r, ...recipeData } : r
);
savePhotosToSession(updatedRecipes);

// –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏
const updatedRecipes = recipes.filter(r => r.id !== id);
savePhotosToSession(updatedRecipes);
```

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –†–µ—Ü–µ–ø—Ç —Å–æ–∑–¥–∞–Ω –≤ –±—Ä–∞—É–∑–µ—Ä–µ                ‚îÇ
‚îÇ images: ["data:image/png;base64,.."]    ‚îÇ
‚îÇ ingredients: [...]                       ‚îÇ
‚îÇ instructions: [...]                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îò
                ‚Üì
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚Üì               ‚Üì
   localStorage    sessionStorage
   (–º–∞–ª–æ –º–µ—Å—Ç–∞)     (–±—ã—Å—Ç—Ä–∞—è –ø–∞–º—è—Ç—å)
        ‚Üì               ‚Üì
   Metadata only    images: "data:..."
   (~0.8KB)         (~50-100KB)
        ‚Üì               ‚Üì
    Persistent       Session-only
    (–ø–µ—Ä–µ–∂–∏—Ç         (—Ç–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏
    –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É)    –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ)
        ‚Üì               ‚Üì
   –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
                        —Å sessionStorage
                               ‚Üì
                    ‚úÖ –§–æ—Ç–æ –≥–æ—Ç–æ–≤—ã –∫ –ø–æ–∫–∞–∑—É
                       –≤ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ **–ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏:**
1. –†–µ—Ü–µ–ø—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ localStorage (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ)
2. –§–æ—Ç–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ sessionStorage (–µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å)
3. –ü–∞–Ω–µ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ —Ñ–æ—Ç–æ —Å –≥–∞–ª–µ—Ä–µ–µ–π
4. –ú–æ–∂–Ω–æ –ª–∏—Å—Ç–∞—Ç—å —Ñ–æ—Ç–æ —Å—Ç—Ä–µ–ª–æ—á–∫–∞–º–∏ –∏–ª–∏ –∫–æ–ª–µ—Å–æ–º –º—ã—à–∏

‚úÖ **–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç–∞:**
1. –†–µ—Ü–µ–ø—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ localStorage
2. –§–æ—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ sessionStorage
3. –ü–∞–Ω–µ–ª—å —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ñ–æ—Ç–æ

‚úÖ **–ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:**
1. –†–µ—Ü–µ–ø—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ localStorage
2. sessionStorage –æ—á–∏—â–∞–µ—Ç—Å—è (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)
3. –§–æ—Ç–æ –±—É–¥—É—Ç –ø—É—Å—Ç—ã –¥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã
- ‚úÖ `/app/admin/recipes/page.tsx`
  - –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ `savePhotosToSession()` –∏ `loadPhotosFromSession()`
  - –û–±–Ω–æ–≤–ª–µ–Ω `useEffect` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ –∏–∑ sessionStorage
  - –í—Å–µ —Ç—Ä–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ (create, edit, delete) —Ç–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω—è—é—Ç —Ñ–æ—Ç–æ
  - –û—á–∏—â–µ–Ω—ã —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ localStorage –¥–æ–±–∞–≤–ª–µ–Ω –∫–ª—é—á `recipePhotos`

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- [ ] –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ä–µ—Ü–µ–ø—Ç —Å —Ñ–æ—Ç–æ
- [ ] –ö–ª–∏–∫–Ω—É—Ç—å "–î–µ—Ç–∞–ª—ñ" - —Ñ–æ—Ç–æ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –≤ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
- [ ] –õ–∏—Å—Ç–∞—Ç—å —Ñ–æ—Ç–æ —Å—Ç—Ä–µ–ª–æ—á–∫–∞–º–∏
- [ ] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç - —Ñ–æ—Ç–æ –¥–æ–ª–∂–Ω—ã –æ—Å—Ç–∞—Ç—å—Å—è
- [ ] –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
  - –†–µ—Ü–µ–ø—Ç—ã –∑–∞–≥—Ä—É–∑—è—Ç—Å—è –∏–∑ localStorage (–±–µ–∑ —Ñ–æ—Ç–æ)
  - –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, —Ç.–∫. —Ñ–æ—Ç–æ –≤ sessionStorage —Ç–µ—Ä—è—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ —Ñ–æ—Ç–æ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É —Ä–µ—Ü–µ–ø—Ç—É
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

| –•—Ä–∞–Ω–∏–ª–∏—â–µ | –†–∞–∑–º–µ—Ä | –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|-----------|--------|-------------|---------------|
| localStorage | ~10MB | –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ | –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ä–µ—Ü–µ–ø—Ç–æ–≤ |
| sessionStorage | ~10MB | –î–æ –∫–æ–Ω—Ü–∞ —Å–µ—Å—Å–∏–∏ | –§–æ—Ç–æ —Ä–µ—Ü–µ–ø—Ç–æ–≤ |
| RAM (React state) | ‚àû | –î–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ | –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ |

–≠—Ç–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É:
- **–°–∫–æ—Ä–æ—Å—Ç—å—é** (sessionStorage –±—ã—Å—Ç—Ä–µ–µ —á–µ–º localStorage)
- **–†–∞–∑–º–µ—Ä–æ–º** (–Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–µ–º localStorage –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö)
- **–£–¥–æ–±—Å—Ç–≤–æ–º** (—Ñ–æ—Ç–æ –¥–æ—Å—Ç—É–ø–Ω—ã –≤–æ –≤—Ä–µ–º—è —Å–µ—Å—Å–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞)

