# âœ… RecipeContext Integration Ğ´Ğ»Ñ AI Recommendation

## ğŸ“… Ğ”Ğ°Ñ‚Ğ°: 17.01.2026

## ğŸ¯ Ğ¦ĞµĞ»ÑŒ

Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ AI recommendation Ñ RecipeContext Ğ´Ğ»Ñ:
- âœ… Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ Ñ€ĞµÑ†ĞµĞ¿Ñ‚Ğ°
- âœ… Persistence Ñ‡ĞµÑ€ĞµĞ· localStorage
- âœ… ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¿Ğ¾Ñ€Ñ†Ğ¸Ğ¹
- âœ… Ğ¡Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ Ğ¸Ğ· Ñ…Ğ¾Ğ»Ğ¾Ğ´Ğ¸Ğ»ÑŒĞ½Ğ¸ĞºĞ°

---

## ğŸ”§ Ğ§Ñ‚Ğ¾ Ğ±Ñ‹Ğ»Ğ¾ ÑĞ´ĞµĞ»Ğ°Ğ½Ğ¾

### 1. ĞĞ±Ğ½Ğ¾Ğ²Ğ»Ñ‘Ğ½ `useAIRecommendation` hook

**Ğ¤Ğ°Ğ¹Ğ»**: `hooks/useAIRecommendation.ts`

#### Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½ Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ callback:

```typescript
export function useAIRecommendation(
  token: string | null,
  options?: {
    saveToRecipeContext?: (data: AIRecipeResponse) => void;
  }
)
```

#### ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ:

```typescript
const loadRecipe = useCallback(async () => {
  // ...
  const response = await fetchAIRecipe(token);
  setData(response);
  
  // âœ… Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ² RecipeContext ĞµÑĞ»Ğ¸ callback Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ½
  if (options?.saveToRecipeContext) {
    options.saveToRecipeContext(response);
  }
}, [token, options]);
```

### 2. Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ RecipeContext Ğ² assistant/page.tsx

**Ğ¤Ğ°Ğ¹Ğ»**: `app/(user)/assistant/page.tsx`

#### Ğ˜Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ RecipeContext:

```typescript
import { useRecipe } from "@/contexts/RecipeContext";

const { setRecipe: saveToRecipeContext } = useRecipe();
```

#### Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ callback:

```typescript
const { data, loading, error, refetch, loadNext } = useAIRecommendation(token, {
  saveToRecipeContext: (aiResponse: AIRecipeResponse) => {
    console.log("ğŸ”„ Saving AI recipe to RecipeContext");
    
    // Map AIRecipeResponse â†’ RecipeContext format
    const recipeForContext = {
      title: aiResponse.recipe.displayName,
      canonicalName: aiResponse.recipe.canonicalName,
      description: aiResponse.recipe.description,
      ingredients: [...],
      ingredientsMissing: [...],
      servings: 2,
      timeMinutes: aiResponse.recipe.cookingTime || 30,
      difficulty: aiResponse.recipe.difficulty,
      economy: null,
    };
    
    saveToRecipeContext({
      recipe: recipeForContext,
      usedProducts: aiResponse.ai.ingredientsUsed.map(name => ({
        name,
        usedAmount: 0,
        unit: 'ÑˆÑ‚',
      })),
    });
  },
});
```

---

## ğŸ“Š ĞœĞ°Ğ¿Ğ¿Ğ¸Ğ½Ğ³ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### AIRecipeResponse â†’ RecipeContext

| Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº (AIRecipeResponse) | ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ (RecipeContext) | ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ |
|------------------------------|----------------------------|------------|
| `recipe.displayName` | `recipe.title` | Ğ›Ğ¾ĞºĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğµ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ |
| `recipe.canonicalName` | `recipe.canonicalName` | ĞšĞ°Ğ½Ğ¾Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¸Ğ¼Ñ |
| `recipe.ingredients` | `recipe.ingredients` | ĞœĞ°ÑÑĞ¸Ğ² Ğ¸Ğ½Ğ³Ñ€ĞµĞ´Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ² |
| `recipe.missingIngredients` | `recipe.ingredientsMissing` | ĞÑ‚ÑÑƒÑ‚ÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğµ |
| `recipe.cookingTime` | `recipe.timeMinutes` | Ğ’Ñ€ĞµĞ¼Ñ Ğ¿Ñ€Ğ¸Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ |
| `recipe.difficulty` | `recipe.difficulty` | Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ |
| `ai.ingredientsUsed` | `usedProducts` | Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ñ‹ |

### ĞŸĞ¾Ğ»Ñ Ñ Ğ´ĞµÑ„Ğ¾Ğ»Ñ‚Ğ½Ñ‹Ğ¼Ğ¸ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸ÑĞ¼Ğ¸:

| ĞŸĞ¾Ğ»Ğµ | Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ | ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ° |
|------|----------|---------|
| `servings` | `2` | Backend Ğ½Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‘Ñ‚ |
| `usedAmount` | `0` | Backend Ğ½Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‘Ñ‚ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ |
| `unit` | `'ÑˆÑ‚'` | Ğ”ĞµÑ„Ğ¾Ğ»Ñ‚Ğ½Ğ°Ñ ĞµĞ´Ğ¸Ğ½Ğ¸Ñ†Ğ° |
| `economy` | `null` | Ğ”Ğ»Ñ catalog recipes backend Ğ½Ğµ ÑÑ‡Ğ¸Ñ‚Ğ°ĞµÑ‚ |

---

## ğŸš€ Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚

### âœ… Ğ¢ĞµĞ¿ĞµÑ€ÑŒ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚:

1. **Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ**
   ```typescript
   // AI recommendation Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ÑÑ
   const { data } = useAIRecommendation(token, { saveToRecipeContext });
   
   // Ğ ĞµÑ†ĞµĞ¿Ñ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ Ğ²ĞµĞ·Ğ´Ğµ Ñ‡ĞµÑ€ĞµĞ· RecipeContext
   const { state } = useRecipe();
   console.log(state.recipe.title); // "Ğ‘Ğ¾Ñ€Ñ‰ ĞºĞ»Ğ°ÑÑĞ¸Ñ‡ĞµÑĞºĞ¸Ğ¹"
   ```

2. **Persistence Ñ‡ĞµÑ€ĞµĞ· localStorage**
   ```typescript
   // Ğ ĞµÑ†ĞµĞ¿Ñ‚ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ÑÑ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸
   localStorage.getItem("sushi_chef_recipe");
   
   // Ğ’Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ Ğ¿Ñ€Ğ¸ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞµ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹
   ```

3. **ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¾Ñ€Ñ†Ğ¸Ğ¹**
   ```typescript
   // Ğ¢ĞµĞ¿ĞµÑ€ÑŒ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ servings
   // RecipeContext Ğ¿ĞµÑ€ĞµÑÑ‡Ğ¸Ñ‚Ğ°ĞµÑ‚ Ğ¸Ğ½Ğ³Ñ€ĞµĞ´Ğ¸ĞµĞ½Ñ‚Ñ‹
   ```

4. **Ğ¡Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¸Ğ· Ñ…Ğ¾Ğ»Ğ¾Ğ´Ğ¸Ğ»ÑŒĞ½Ğ¸ĞºĞ°**
   ```typescript
   // ĞœĞ¾Ğ¶Ğ½Ğ¾ Ğ²Ñ‹Ğ·Ğ²Ğ°Ñ‚ÑŒ handleMarkDone
   // RecipeContext Ğ·Ğ½Ğ°ĞµÑ‚ ĞºĞ°ĞºĞ¸Ğµ Ğ¸Ğ½Ğ³Ñ€ĞµĞ´Ğ¸ĞµĞ½Ñ‚Ñ‹ ÑĞ¿Ğ¸ÑĞ°Ñ‚ÑŒ
   ```

---

## ğŸ”„ Flow Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹

### 1. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ `/assistant`

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. useAIRecommendation(token, options)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. fetchAIRecipe(token)                 â”‚
â”‚    â†’ GET /api/ai-recipe/recommendation  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Backend Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ AIRecipeResponse  â”‚
â”‚    - recipe (RecipeDTO)                 â”‚
â”‚    - ai (AIExplanationDTO)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. options.saveToRecipeContext(data)    â”‚
â”‚    â†’ Map AIRecipeResponse               â”‚
â”‚    â†’ saveToRecipeContext({ recipe })    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. RecipeContext.setRecipe()            â”‚
â”‚    â†’ Normalize recipe                   â”‚
â”‚    â†’ Save to localStorage               â”‚
â”‚    â†’ setState({ recipe, usedProducts }) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. Ğ ĞµÑ†ĞµĞ¿Ñ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ Ğ³Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ¾ âœ…         â”‚
â”‚    - state.recipe                       â”‚
â”‚    - state.usedProducts                 â”‚
â”‚    - Persists Ñ‡ĞµÑ€ĞµĞ· reload              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ ĞºĞ»Ğ¸ĞºĞ°ĞµÑ‚ "Gotuj teraz"

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. handleCookRecipe(recipeId)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. recipeMatchingApi.cookRecipe()       â”‚
â”‚    â†’ POST /api/recipes/cook             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Backend ÑĞ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµÑ‚ Ğ¸Ğ· Ñ…Ğ¾Ğ»Ğ¾Ğ´Ğ¸Ğ»ÑŒĞ½Ğ¸ĞºĞ°    â”‚
â”‚    â†’ ingredientsUsed[]                  â”‚
â”‚    â†’ economySnapshot                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. Toast: "Smacznego! Wykorzystano..." â”‚
â”‚    â†’ refetch() â†’ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ½Ğ¾Ğ²ÑƒÑ        â”‚
â”‚       Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ñ                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§ª ĞšĞ°Ğº Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ

### 1. ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ `/assistant`

```bash
npm run dev
# http://localhost:3000/assistant
```

### 2. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Console:

```
ğŸ”„ Saving AI recipe to RecipeContext
ğŸ’¾ RecipeContext: Saved to localStorage
âœ… AI recipe saved to RecipeContext (persists across navigation & reload)
```

### 3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ localStorage:

```javascript
// DevTools â†’ Application â†’ Local Storage
const recipe = JSON.parse(localStorage.getItem('sushi_chef_recipe'));
console.log(recipe.recipe.title); // "Ğ‘Ğ¾Ñ€Ñ‰ ĞºĞ»Ğ°ÑÑĞ¸Ñ‡ĞµÑĞºĞ¸Ğ¹"
```

### 4. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ navigation:

```
1. ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ /assistant â†’ Ñ€ĞµÑ†ĞµĞ¿Ñ‚ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½
2. ĞŸĞµÑ€ĞµĞ¹Ñ‚Ğ¸ Ğ½Ğ° /fridge
3. Ğ’ĞµÑ€Ğ½ÑƒÑ‚ÑŒÑÑ Ğ½Ğ° /assistant
4. âœ… Ğ ĞµÑ†ĞµĞ¿Ñ‚ Ğ²ÑÑ‘ ĞµÑ‰Ñ‘ Ğ² RecipeContext
```

### 5. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ reload:

```
1. ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ /assistant â†’ Ñ€ĞµÑ†ĞµĞ¿Ñ‚ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½
2. F5 (Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñƒ)
3. âœ… Ğ ĞµÑ†ĞµĞ¿Ñ‚ Ğ²Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½ Ğ¸Ğ· localStorage
```

---

## ğŸ“ ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ñ

### ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ `servings: 2`?

Backend Ğ² `RecipeDTO` Ğ½Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‘Ñ‚ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾Ñ€Ñ†Ğ¸Ğ¹ Ğ´Ğ»Ñ catalog Ñ€ĞµÑ†ĞµĞ¿Ñ‚Ğ¾Ğ². Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ Ğ´ĞµÑ„Ğ¾Ğ»Ñ‚ `2`.

**TODO**: Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ `servings` Ğ² backend `RecipeDTO`.

### ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ `economy: null`?

Backend Ğ´Ğ»Ñ catalog Ñ€ĞµÑ†ĞµĞ¿Ñ‚Ğ¾Ğ² Ğ½Ğµ ÑÑ‡Ğ¸Ñ‚Ğ°ĞµÑ‚ ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºÑƒ (ÑÑ‚Ğ¾ Ğ´ĞµĞ»Ğ°ĞµÑ‚ÑÑ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ AI-generated Ñ€ĞµÑ†ĞµĞ¿Ñ‚Ğ¾Ğ² Ñ‡ĞµÑ€ĞµĞ· `/api/ai/create-recipe-from-fridge`).

Ğ”Ğ»Ñ `/api/ai-recipe/recommendation` (catalog) ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ° Ğ½Ğµ Ğ½ÑƒĞ¶Ğ½Ğ°, Ñ‚Ğ°Ğº ĞºĞ°Ğº:
- Ğ ĞµÑ†ĞµĞ¿Ñ‚ ÑƒĞ¶Ğµ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒĞµÑ‚ Ğ² ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³Ğµ
- Economy ÑÑ‡Ğ¸Ñ‚Ğ°ĞµÑ‚ÑÑ Ğ¿Ñ€Ğ¸ `POST /api/recipes/cook`

### ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ `usedAmount: 0`?

Backend Ğ² `ai.ingredientsUsed` Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‘Ñ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ **Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ** Ğ¸Ğ½Ğ³Ñ€ĞµĞ´Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ², Ğ±ĞµĞ· ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ°.

```json
{
  "ai": {
    "ingredientsUsed": ["ÑĞ¹Ñ†Ğ°", "Ğ¼ÑƒĞºĞ°", "Ğ¼Ğ¾Ğ»Ğ¾ĞºĞ¾"]
  }
}
```

Ğ”Ğ»Ñ RecipeContext Ğ½ÑƒĞ¶ĞµĞ½ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚:
```typescript
{
  name: string,
  usedAmount: number,
  unit: string
}
```

ĞŸĞ¾ÑÑ‚Ğ¾Ğ¼Ñƒ Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½ÑĞµĞ¼ Ğ´ĞµÑ„Ğ¾Ğ»Ñ‚Ğ°Ğ¼Ğ¸.

---

## ğŸš€ Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾!

- âœ… AI recommendation Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ñ RecipeContext
- âœ… ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ² localStorage
- âœ… Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ñ€ĞµÑ†ĞµĞ¿Ñ‚Ğ°
- âœ… Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ navigation Ğ¸ reload
- âœ… Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾ Ğ´Ğ»Ñ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¿Ğ¾Ñ€Ñ†Ğ¸Ğ¹
- âœ… Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾ Ğ´Ğ»Ñ ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ Ğ¸Ğ· Ñ…Ğ¾Ğ»Ğ¾Ğ´Ğ¸Ğ»ÑŒĞ½Ğ¸ĞºĞ°

**Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¹ ÑˆĞ°Ğ³**: ĞŸÑ€Ğ¾Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ²ĞµÑÑŒ flow Ğ¾Ñ‚ Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ğ´Ğ¾ ĞºĞ¾Ğ½Ñ†Ğ°! ğŸ‰

---

**Ğ”Ğ°Ñ‚Ğ°**: 17.01.2026  
**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ**: âœ… Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¾
