# üìã –õ–æ–≥–∏–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü —Å —Ä–µ—Ü–µ–ø—Ç–∞–º–∏

–û–±–Ω–æ–≤–ª–µ–Ω–æ: 22 —è–Ω–≤–∞—Ä—è 2026

---

## üéØ –û–±–∑–æ—Ä

–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –µ—Å—Ç—å **–î–í–ï** —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Ä–µ—Ü–µ–ø—Ç–∞–º–∏:

1. **`/assistant`** - AI –ö—É—Ö–æ–Ω–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç
2. **`/recipes/saved`** - –ö–∞—Ç–∞–ª–æ–≥ –≤—Å–µ—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤

---

## 1Ô∏è‚É£ `/assistant` - AI –ö—É—Ö–æ–Ω–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç **–û–î–ò–ù —Ä–µ—Ü–µ–ø—Ç** —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ–º –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ –∏–∑ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–∞.

### Backend API
```
GET /api/recipe-recommendations?limit=1&lang=ru
```

### –õ–æ–≥–∏–∫–∞
- –ë—ç–∫–µ–Ω–¥ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **1 —Ä–µ—Ü–µ–ø—Ç** —Å –Ω–∞–∏–≤—ã—Å—à–∏–º `match_percent`
- –ú–æ–∂–µ—Ç –±—ã—Ç—å:
  - 100% —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ (`match_status: "ready"`) - –º–æ–∂–Ω–æ –≥–æ—Ç–æ–≤–∏—Ç—å —Å–µ–π—á–∞—Å
  - 66-99% (`match_status: "almost_ready"`) - –ø–æ—á—Ç–∏ –≥–æ—Ç–æ–≤–æ, –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç 1-2 –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞
  - <66% (`match_status: "need_more"`) - –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤

### UI
- **–û–¥–Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞ —Ä–µ—Ü–µ–ø—Ç–∞** —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- –ö–Ω–æ–ø–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç `match_status`:
  - `CAN_COOK_NOW` ‚Üí "–ì–æ—Ç–æ–≤–∏—Ç—å —Å–µ–π—á–∞—Å"
  - `ALMOST_READY` ‚Üí "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á–µ–≥–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç"
  - `NEED_MORE` ‚Üí "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥—Ä—É–≥–∏–µ –∏–¥–µ–∏"
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
  - –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –∏–∑ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–∞ (–∑–µ–ª–µ–Ω—ã–µ)
  - –ù–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã (–æ—Ä–∞–Ω–∂–µ–≤—ã–µ)
  - –ü—Ä–æ—Ü–µ–Ω—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è

### –¢–µ–∫—Å—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
```
–ó–∞–≥–æ–ª–æ–≤–æ–∫: "AI –ö—É—Ö–æ–Ω–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç"
–û–ø–∏—Å–∞–Ω–∏–µ: "–õ—É—á—à–∏–π —Ä–µ—Ü–µ–ø—Ç –¥–ª—è –≤–∞—à–µ–≥–æ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–∞ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å"
–ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫: "Rules Engine –≤—ã–±—Ä–∞–ª —Ä–µ—Ü–µ–ø—Ç —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ–º –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤"
```

---

## 2Ô∏è‚É£ `/recipes/saved` - –ö–∞—Ç–∞–ª–æ–≥ –≤—Å–µ—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç **–í–°–ï —Ä–µ—Ü–µ–ø—Ç—ã** –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π, –∫–∞–∫–∏–µ –º–æ–∂–Ω–æ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å —Å–µ–π—á–∞—Å.

### Backend API
```
GET /api/recipe-recommendations?limit=100&lang=ru
```

### –õ–æ–≥–∏–∫–∞
- –ë—ç–∫–µ–Ω–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –í–°–ï —Ä–µ—Ü–µ–ø—Ç—ã –∏–∑ –±–∞–∑—ã
- –î–ª—è –ö–ê–ñ–î–û–ì–û —Ä–µ—Ü–µ–ø—Ç–∞ –≤–∫–ª—é—á–∞–µ—Ç:
  - `match_percent` - –ø—Ä–æ—Ü–µ–Ω—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–æ–º
  - `match_status` - –º–æ–∂–Ω–æ –ª–∏ –≥–æ—Ç–æ–≤–∏—Ç—å (`ready`, `almost_ready`, `need_more`)
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±–µ–π–¥–∂–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö

### UI
- **–°–µ—Ç–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫** (grid layout)
- –ù–∞ –∫–∞–∂–¥–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ –±–µ–π–¥–∂:
  - üü¢ **"–ú–æ–∂–Ω–æ –≥–æ—Ç–æ–≤–∏—Ç—å!"** - –µ—Å–ª–∏ `match_status === "ready"` (100% —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ)
  - üü† **"X% —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ"** - –µ—Å–ª–∏ –µ—Å—Ç—å —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ, –Ω–æ –Ω–µ 100%
  - –ë–µ–∑ –±–µ–π–¥–∂–∞ - –µ—Å–ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –Ω–µ—Ç
- –ö–ª–∏–∫ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/recipes/{canonical_name}` —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

### –¢–µ–∫—Å—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
```
–ó–∞–≥–æ–ª–æ–≤–æ–∫: "–ö–∞—Ç–∞–ª–æ–≥ —Ä–µ—Ü–µ–ø—Ç–æ–≤"
–û–ø–∏—Å–∞–Ω–∏–µ: "–í—Å–µ —Ä–µ—Ü–µ–ø—Ç—ã –∏–∑ –±–∞–∑—ã ‚Ä¢ –ó–µ–ª–µ–Ω—ã–π –±–µ–π–¥–∂ = –º–æ–∂–Ω–æ –≥–æ—Ç–æ–≤–∏—Ç—å —Å–µ–π—á–∞—Å"
```

---

## üîÑ –û—Ç–ª–∏—á–∏—è –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | `/assistant` | `/recipes/saved` |
|---|---|---|
| **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—Ü–µ–ø—Ç–æ–≤** | 1 (–ª—É—á—à–∏–π match) | –í—Å–µ –∏–∑ –±–∞–∑—ã |
| **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è** | Backend –≤—ã–±–∏—Ä–∞–µ—Ç –ª—É—á—à–∏–π | –í—Å–µ —Ä–µ—Ü–µ–ø—Ç—ã + –±–µ–π–¥–∂–∏ |
| **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ** | –ë—ã—Å—Ç—Ä–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è | –ü–æ–∏—Å–∫ –∏ –≤—ã–±–æ—Ä |
| **API** | `?limit=1` | `?limit=100` |
| **–ë–µ–π–¥–∂–∏** | –í–Ω—É—Ç—Ä–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ | –ù–∞ –ø—Ä–µ–≤—å—é –∫–∞—Ä—Ç–æ—á–∫–∏ |
| **–ù–∞–≤–∏–≥–∞—Ü–∏—è** | –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π | –ö–ª–∏–∫ ‚Üí –¥–µ—Ç–∞–ª–∏ |

---

## üé® –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã

### –ë–µ–π–¥–∂ "–ú–æ–∂–Ω–æ –≥–æ—Ç–æ–≤–∏—Ç—å!" (–∑–µ–ª–µ–Ω—ã–π)
- –£—Å–ª–æ–≤–∏–µ: `recipe.canCookNow === true` (—Ç.–µ. `match_status === "ready"`)
- –¶–≤–µ—Ç: `bg-green-500`
- –ò–∫–æ–Ω–∫–∞: `CheckCircle`
- –¢–µ–∫—Å—Ç: "–ú–æ–∂–Ω–æ –≥–æ—Ç–æ–≤–∏—Ç—å!"

### –ë–µ–π–¥–∂ –ø—Ä–æ—Ü–µ–Ω—Ç–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è (–æ—Ä–∞–Ω–∂–µ–≤—ã–π)
- –£—Å–ª–æ–≤–∏–µ: `!recipe.canCookNow && recipe.matchPercent > 0`
- –¶–≤–µ—Ç: `bg-orange-500`
- –¢–µ–∫—Å—Ç: "X% —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ"

---

## üìä Backend Response Structure

### `/api/recipe-recommendations` (—Å–ø–∏—Å–æ–∫)
```json
{
  "decision": "ready",
  "summary": "–û—Ç–ª–∏—á–Ω–æ! –í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ—Ü–µ–ø—Ç–æ–≤ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å.",
  "total_matches": 1,
  "recipes": [
    {
      "id": "uuid",
      "canonical_name": "zharenye_yaytsa",
      "title": "–ñ–∞—Ä–µ–Ω—ã–µ —è–π—Ü–∞",
      "image_url": "https://...",
      "cook_time": 7,
      "servings": 1,
      "match_percent": 100,
      "match_status": "ready",
      "category": "breakfast",
      "country": "international"
    }
  ]
}
```

### `/api/recipe-recommendations/{id}` (–¥–µ—Ç–∞–ª–∏)
```json
{
  "id": "uuid",
  "title": "–ñ–∞—Ä–µ–Ω—ã–µ —è–π—Ü–∞",
  "canonical_name": "zharenye_yaytsa",
  "image_url": "https://...",
  "cook_time": 7,
  "servings": 1,
  "match_percent": 100,
  "match_status": "ready",
  "available_ingredients": [
    {
      "id": "uuid",
      "canonical_name": "—è–π—Ü–∞",
      "display_name": "–Ø–π—Ü–∞",
      "quantity": 3,
      "unit": "pcs",
      "category": "egg"
    }
  ],
  "missing_ingredients": null,
  "steps": ["...", "..."]
}
```

---

## üõ†Ô∏è –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### Frontend Code Locations

**Assistant Page:**
- `app/(user)/assistant/page.tsx` - Main page component
- `hooks/useAIRecommendation.ts` - Data fetching hook
- `lib/api/ai-recipe.ts` - API client
- `components/assistant/AIRecommendationCard.tsx` - Recipe card

**Catalog Page:**
- `app/(user)/recipes/saved/page.tsx` - Catalog page
- `lib/api/catalog.ts` - API client for catalog
- `components/recipes/CatalogRecipeCard.tsx` - Preview card with badges

**Recipe Details:**
- `app/(user)/recipes/[id]/page.tsx` - Full recipe view
- Uses `fetchRecipeDetails()` from `lib/api/catalog.ts`

---

## ‚úÖ Best Practices

1. **–ù–µ —Å–º–µ—à–∏–≤–∞—Ç—å –ª–æ–≥–∏–∫—É** - Assistant –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—é, Catalog –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±–∞–∑—É
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π endpoint** - –æ–±–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `/recipe-recommendations`, –Ω–æ —Å —Ä–∞–∑–Ω—ã–º–∏ `limit`
3. **–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –±–µ–π–¥–∂–∏** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω —Å—Ä–∞–∑—É –≤–∏–¥–µ—Ç—å —á—Ç–æ –º–æ–∂–Ω–æ –≥–æ—Ç–æ–≤–∏—Ç—å
4. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã** - –æ–ø–∏—Å–∞–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü –¥–æ–ª–∂–Ω—ã —á–µ—Ç–∫–æ –æ–±—ä—è—Å–Ω—è—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

---

## üêõ Common Issues

### ‚ùå "–ö–∞—Ç–∞–ª–æ–≥ –ø—É—Å—Ç–æ–π"
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ –æ—Ç backend
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `json.recipes` vs `json.data.recipes`

### ‚ùå "–ë–µ–π–¥–∂–∏ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è"
**–ü—Ä–∏—á–∏–Ω–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø–æ–ª—è `match_status` –∏–ª–∏ `match_percent`
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `/recipe-recommendations`, –∞ –Ω–µ `/recipes`

### ‚ùå "Assistant –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–µ —Ç–æ—Ç —Ä–µ—Ü–µ–ø—Ç"
**–ü—Ä–∏—á–∏–Ω–∞:** Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–µ –ø–æ —É–±—ã–≤–∞–Ω–∏—é `match_percent`
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å backend —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É, –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `ORDER BY match_percent DESC`

---

## üìù Changelog

**2026-01-22:**
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–µ–∫—Å—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü (–æ–ø–∏—Å–∞–Ω–∏—è –±–æ–ª–µ–µ —á–µ—Ç–∫–∏–µ)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –±–µ–π–¥–∂–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
- ‚úÖ Catalog –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `/recipe-recommendations` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è match data
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –æ—Ç–≤–µ—Ç–∞ (recipes –≤ –∫–æ—Ä–Ω–µ, –Ω–µ –≤ data)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å –ª–æ–≥–∏–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü

**2026-01-17:**
- ‚úÖ Assistant –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –Ω–∞ backend Rules Engine
- ‚úÖ –£–¥–∞–ª–µ–Ω–∞ —Ä–æ—Ç–∞—Ü–∏—è —Ä–µ—Ü–µ–ø—Ç–æ–≤ (—Ç–µ–ø–µ—Ä—å –æ–¥–∏–Ω —Ä–µ—Ü–µ–ø—Ç —Å –ª—É—á—à–∏–º match)

---
