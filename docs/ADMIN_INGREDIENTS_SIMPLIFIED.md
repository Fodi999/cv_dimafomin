# Admin Ingredients - –£–ø—Ä–æ—â—ë–Ω–Ω—ã–π —Ñ–ª–æ—É

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### –£–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `/components/admin/catalog/ingredients/AddIngredientDialog.tsx`

**–ß—Ç–æ –≤–∏–¥–∏—Ç –∞–¥–º–∏–Ω:**
- ‚úÖ –û–¥–Ω–æ –ø–æ–ª–µ: "–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞"
- ‚úÖ –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä: "–ù–∞–ø—Ä–∏–º–µ—Ä: Avocado, –û–≥—É—Ä–µ—Ü, Pomidor"
- ‚úÖ –ü–æ–¥—Å–∫–∞–∑–∫–∞: "AI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é, –µ–¥–∏–Ω–∏—Ü—É –∏–∑–º–µ—Ä–µ–Ω–∏—è –∏ –ø–µ—Ä–µ–≤–µ–¥—ë—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ"
- ‚úÖ –ö–Ω–æ–ø–∫–∞: "–°–æ–∑–¥–∞—Ç—å"

**–ß—Ç–æ —É–¥–∞–ª–µ–Ω–æ:**
- ‚ùå –°–µ–ª–µ–∫—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- ‚ùå –°–µ–ª–µ–∫—Ç –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è  
- ‚ùå –°–µ–ª–µ–∫—Ç —è–∑—ã–∫–∞

### API
**Endpoint**: `POST /api/admin/ingredients`

**Payload**:
```json
{
  "inputName": "Paprika"
}
```

**Response**:
```json
{
  "success": true,
  "message": "Ingredient created via AI classification",
  "data": {
    "id": "85121543-5dee-4ac0-ae83-72d524b2664f",
    "namePl": "papryka",
    "nameEn": "paprika",
    "nameRu": "–ø–∞–ø—Ä–∏–∫–∞",
    "category": "condiment",
    "unit": "g",
    "normalizedValue": "paprika",
    "autoTranslated": true
  }
}
```

## üß™ –¢–µ—Å—Ç–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã (Production)

### 1. –†—É—Å—Å–∫–∏–π –≤–≤–æ–¥ ‚Üí AI –ø–µ—Ä–µ–≤–æ–¥–∏—Ç
```bash
curl -X POST https://yeasty-madelaine-fodi999-671ccdf5.koyeb.app/api/admin/ingredients \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"inputName":"–º–æ—Ä–æ–∂–µ–Ω–æ–µ"}'
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "data": {
    "namePl": "lody",
    "nameEn": "ice cream",
    "nameRu": "–º–æ—Ä–æ–∂–µ–Ω–æ–µ",
    "category": "other",
    "unit": "g"
  }
}
```

### 2. –ê–Ω–≥–ª–∏–π—Å–∫–∏–π –≤–≤–æ–¥ ‚Üí AI –ø–µ—Ä–µ–≤–æ–¥–∏—Ç
```bash
curl -X POST https://yeasty-madelaine-fodi999-671ccdf5.koyeb.app/api/admin/ingredients \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"inputName":"Chocolate"}'
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "data": {
    "namePl": "czekolada",
    "nameEn": "chocolate",
    "nameRu": "—à–æ–∫–æ–ª–∞–¥",
    "category": "other",
    "unit": "g"
  }
}
```

### 3. –°–ª–æ–∂–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ ‚Üí AI –ø–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç
```bash
curl -X POST https://yeasty-madelaine-fodi999-671ccdf5.koyeb.app/api/admin/ingredients \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"inputName":"–ú–∞–Ω–≥–æ —Ñ—Ä–µ—à"}'
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "data": {
    "namePl": "mango ≈õwie≈ºy",
    "nameEn": "fresh mango",
    "nameRu": "–º–∞–Ω–≥–æ —Å–≤–µ–∂–∏–π",
    "category": "fruit",
    "unit": "g"
  }
}
```

### 4. AI –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é
```bash
curl -X POST https://yeasty-madelaine-fodi999-671ccdf5.koyeb.app/api/admin/ingredients \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"inputName":"Paprika"}'
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "data": {
    "namePl": "papryka",
    "nameEn": "paprika",
    "nameRu": "–ø–∞–ø—Ä–∏–∫–∞",
    "category": "condiment",  // ‚Üê AI –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏–ª!
    "unit": "g"
  }
}
```

## üéØ UX Flow

1. **–ê–¥–º–∏–Ω –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –∫–∞—Ç–∞–ª–æ–≥** ‚Üí –ñ–º—ë—Ç "–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç"
2. **–í–≤–æ–¥–∏—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ** ‚Üí `"Kiwi"` –∏–ª–∏ `"–ö–∏–≤–∏"` –∏–ª–∏ `"Kiwi owoc"`
3. **–ñ–º—ë—Ç "–°–æ–∑–¥–∞—Ç—å"** ‚Üí –í–∏–¥–∏—Ç loading state ‚è≥
4. **–ü–æ–ª—É—á–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç** ‚Üí Toast: `"–î–æ–±–∞–≤–ª–µ–Ω–æ: kiwi ¬∑ fruit"`
5. **–ü—Ä–æ–¥—É–∫—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ** ‚Üí –°—Ä–∞–∑—É –≤–∏–¥–µ–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π

## üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

Backend –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `normalizedValue`:
```json
{
  "error": "INGREDIENT_ALREADY_EXISTS",
  "message": "Ingredient with name 'paprika' already exists"
}
```

Frontend –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
```
toast.error("–≠—Ç–æ—Ç –ø—Ä–æ–¥—É–∫—Ç —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç")
```

## üìù –í–∞–ª–∏–¥–∞—Ü–∏—è (Frontend)

```typescript
// –ü—É—Å—Ç–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
if (!trimmedName) {
  toast.error("–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞");
  return;
}

// –°–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
if (trimmedName.length > 40) {
  toast.warning("–°–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ (–º–∞–∫—Å–∏–º—É–º 40 —Å–∏–º–≤–æ–ª–æ–≤)");
  return;
}
```

‚ùå **–ù–µ –¥–µ–ª–∞–µ–º –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ:**
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é —Ç–µ–∫—Å—Ç–∞
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è
- –ü–µ—Ä–µ–≤–æ–¥
- –û—á–∏—Å—Ç–∫—É –æ—Ç —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–æ–≤

‚úÖ **–í—Å—ë —ç—Ç–æ –¥–µ–ª–∞–µ—Ç backend + AI**

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è:
```typescript
if (onCreated) {
  onCreated(); // ‚Üí refetch() –∏–∑ useIngredients()
}
```

## üé® UI/UX –¥–µ—Ç–∞–ª–∏

- ‚úÖ Enter –¥–ª—è submit
- ‚úÖ Auto-focus –Ω–∞ –∏–Ω–ø—É—Ç
- ‚úÖ Loading state —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
- ‚úÖ –ú–æ–¥–∞–ª–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- ‚úÖ –§–æ—Ä–º–∞ –æ—á–∏—â–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —É—Å–ø–µ—Ö–∞
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

## üìä –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è AI)

- `vegetable` - –û–≤–æ—â–∏
- `fruit` - –§—Ä—É–∫—Ç—ã
- `protein` - –ú—è—Å–æ, —Ä—ã–±–∞
- `dairy` - –ú–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã
- `grain` - –ó–µ—Ä–Ω–æ–≤—ã–µ
- `condiment` - –ü—Ä–∏–ø—Ä–∞–≤—ã
- `other` - –î—Ä—É–≥–æ–µ

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É (–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è)
- [ ] –î–æ–±–∞–≤–∏—Ç—å badges –¥–ª—è category/unit
- [ ] –§–∏–ª—å—Ç—Ä—ã (search, category, unit)
- [ ] Optimistic updates
- [ ] Bulk import

## ‚ú® –ò—Ç–æ–≥

**–î–æ:**
- –ê–¥–º–∏–Ω –≤—ã–±–∏—Ä–∞–ª category –≤—Ä—É—á–Ω—É—é ‚ùå
- –ê–¥–º–∏–Ω –≤—ã–±–∏—Ä–∞–ª unit –≤—Ä—É—á–Ω—É—é ‚ùå
- –ê–¥–º–∏–Ω –≤—ã–±–∏—Ä–∞–ª —è–∑—ã–∫ –≤—Ä—É—á–Ω—É—é ‚ùå
- –ú–Ω–æ–≥–æ –∫–ª–∏–∫–æ–≤, –º–µ–¥–ª–µ–Ω–Ω–æ üêå

**–ü–æ—Å–ª–µ:**
- –ê–¥–º–∏–Ω –≤–≤–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –Ω–∞–∑–≤–∞–Ω–∏–µ ‚úÖ
- AI –¥–µ–ª–∞–µ—Ç –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ ‚úÖ
- 1 –ø–æ–ª–µ, 1 –∫–ª–∏–∫, –≥–æ—Ç–æ–≤–æ ‚ö°

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Å—Ç–∞–ª–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π SaaS-—Å–∏—Å—Ç–µ–º–æ–π! üéØ
