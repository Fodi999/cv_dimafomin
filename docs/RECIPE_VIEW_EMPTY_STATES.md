# 🎨 Recipe View Dialog - Empty States

## Текущее состояние рецепта "Pierogi ruskie"

```
Pierogi ruskie
Pierogi z ziemniakami i serem.

Badges: Середній | Опубліковано | 🍽️ main

KPI Metrics:
- Час: 90 хв
- Порції: 4
- Інгредієнтів: 0  ← проблема
- Перегляди: 0

Overview Tab:
- Інгредієнти: (пусто) ← теперь показывается empty state
- Походження:
  * Країна: Poland
  * Регіон: (відсутнє) ← не показывается если null
```

---

## ✅ Что исправлено

### 1️⃣ Секция "Інгредієнти" - всегда видна

**До** (неправильно):
```tsx
{recipe.ingredients && recipe.ingredients.length > 0 && (
  <Section title="Інгредієнти">
    {/* список */}
  </Section>
)}
```
❌ Проблема: секция полностью скрывается если `ingredients.length === 0`

**После** (правильно):
```tsx
<Section title="🧺 Інгредієнти">
  {recipe.ingredients && recipe.ingredients.length > 0 ? (
    <div className="grid grid-cols-1 md:grid-cols-2 gap-2">
      {/* список ингредиентов */}
    </div>
  ) : (
    <div className="text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed">
      <ChefHat className="w-12 h-12 mx-auto mb-3 text-gray-400" />
      <p className="font-medium">Інгредієнти ще не додані</p>
      <p className="text-sm text-gray-400 mt-1">
        Додайте інгредієнти через редагування рецепта
      </p>
    </div>
  )}
</Section>
```

✅ **Результат**: Секция всегда показывается, с понятным empty state

---

## 📊 Empty States по табам

### Tab: Overview

#### Інгредієнти (всегда показывается)
```
Если есть (length > 0):
┌─────────────────────────────────┐
│ 🧺 Інгредієнти                  │
│ ┌───────────────────────────┐   │
│ │ Картопля        500 г     │   │
│ │ Сир            200 г      │   │
│ └───────────────────────────┘   │
└─────────────────────────────────┘

Если нет (length === 0):
┌─────────────────────────────────┐
│ 🧺 Інгредієнти                  │
│ ┌ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┐   │
│      [👨‍🍳 иконка]              │
│   Інгредієнти ще не додані      │
│   Додайте через редагування     │
│ └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘   │
└─────────────────────────────────┘
```

#### Походження (условно)
```
Если есть country ИЛИ region:
┌─────────────────────────────────┐
│ 📍 Походження                   │
│ ┌───────────────────────────┐   │
│ │ Країна       Poland       │   │  ← показывается
│ │ (Регіон не показывается)  │   │  ← скрыто если null
│ └───────────────────────────┘   │
└─────────────────────────────────┘

Если НЕТ ни country, ни region:
(секция полностью скрыта)
```

---

### Tab: Translations

```
Если есть переводы:
┌─────────────────────────────────┐
│ Назва                           │
│ 🇵🇱 Польська: Pierogi ruskie    │
│ 🇬🇧 Англійська: Pierogi Ruskie  │
└─────────────────────────────────┘

Если НЕТ переводов:
┌─────────────────────────────────┐
│   🌐 Переклади відсутні         │
└─────────────────────────────────┘
```

---

### Tab: Nutrition

```
Если есть nutritionProfile:
┌─────────────────────────────────┐
│  Тип: balanced    🔥 420 ккал   │
└─────────────────────────────────┘

Если НЕТ:
┌─────────────────────────────────┐
│ 🍎 Харчова цінність не вказана  │
└─────────────────────────────────┘
```

---

### Tab: Steps

```
Если есть steps (length > 0):
┌─────────────────────────────────┐
│ 1️⃣ Угодуй зйемніяки...          │
│ 2️⃣ Подсмаж цебулю...            │
│ ...                             │
└─────────────────────────────────┘

Если НЕТ:
┌─────────────────────────────────┐
│ 📋 Кроки приготування відсутні  │
└─────────────────────────────────┘
```

---

### Tab: Technical

```
Всегда показывается:
┌─────────────────────────────────┐
│ ID: 123                         │
│ Canonical Name: pierogi_ruskie  │
│ Category: main                  │
│ Created: 2026-01-04 10:00       │
└─────────────────────────────────┘
```

---

## 🎯 Логика отображения

### Принцип 1: Важные секции - ВСЕГДА показываем
- ✅ **Інгредієнти** - с empty state (это ключевая информация!)
- ✅ **Technical** - всегда есть (id, canonicalName минимум)

### Принцип 2: Опциональные секции - только если есть данные
- ⚠️ **Походження** - если есть country ИЛИ region
- ⚠️ **Переклади** - если есть хотя бы один перевод
- ⚠️ **Харчова цінність** - если есть nutritionProfile
- ⚠️ **Кроки** - если есть steps

### Принцип 3: Empty states - информативные и полезные
```tsx
<div className="text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed">
  <Icon />                      // визуальный маркер
  <p>Что отсутствует</p>        // понятно
  <p>Как это исправить</p>      // actionable
</div>
```

---

## 🔧 Почему Регіон не показывается

### Сценарий 1: region === null
```js
recipe.country = "Poland"
recipe.region = null

// Результат:
{recipe.region && <MetaRow label="Регіон" value={recipe.region} />}
// false && ... → ничего не рендерится ✅
```

### Сценарий 2: region === undefined
```js
recipe.country = "Poland"
recipe.region = undefined

// Результат:
{recipe.region && <MetaRow label="Регіон" value={recipe.region} />}
// undefined && ... → ничего не рендерится ✅
```

### Сценарий 3: region === ""
```js
recipe.country = "Poland"
recipe.region = ""

// Результат:
{recipe.region && <MetaRow label="Регіон" value={recipe.region} />}
// "" && ... → ничего не рендерится ✅
```

**Вывод**: Регіон не показывается потому что **backend не вернул это поле** или оно пустое.

---

## 📝 Как добавить регион

### Вариант 1: Через backend
```bash
curl -X PATCH https://your-api.com/api/admin/recipes/1 \
  -H "Content-Type: application/json" \
  -d '{
    "region": "Małopolska"
  }'
```

### Вариант 2: Через админ-панель (будущее)
```
[Edit Recipe] → Origin → Регіон: [Małopolska] → Save
```

---

## 🎨 Визуальная иерархия Empty States

### Уровень 1: Критичные (большие, с иконкой)
```tsx
// Ингредиенты - это ДОЛЖНО быть
<ChefHat className="w-12 h-12" />  // большая иконка
<p className="font-medium">Інгредієнти ще не додані</p>
<p className="text-sm text-gray-400">Додайте через редагування</p>
```

### Уровень 2: Важные (средние)
```tsx
// Шаги приготовления - важно, но не критично
<p>📋 Кроки приготування відсутні</p>
```

### Уровень 3: Опциональные (маленькие)
```tsx
// Переводы, харчова цінність - nice to have
<p>🌐 Переклади відсутні</p>
<p>🍎 Харчова цінність не вказана</p>
```

---

## ✅ Итог

### Что работает правильно:
1. ✅ Секция "Інгредієнти" всегда показывается
2. ✅ Empty state для ингредиентов информативный
3. ✅ Походження показывается только если есть данные
4. ✅ Регіон скрывается если null/undefined/""
5. ✅ Все табы имеют empty states

### Что видит пользователь сейчас:
```
Overview:
  🧺 Інгредієнти
    [Empty State: Інгредієнти ще не додані]
  
  📍 Походження
    Країна: Poland
    (Регіон не показывается - данных нет)
```

### Следующие шаги:
1. Добавить регион в backend для рецепта "Pierogi ruskie"
2. Добавить ингредиенты через редактирование
3. После этого Overview будет полностью заполнен

---

**Дата**: 4 січня 2026 р.  
**Статус**: ✅ Empty States работают корректно  
**Версия**: 2.1 (Empty States Edition)
