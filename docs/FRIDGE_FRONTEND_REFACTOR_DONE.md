# ‚úÖ –•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫ - Frontend —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (–í–´–ü–û–õ–ù–ï–ù–û)

**–î–∞—Ç–∞**: 2026-01-20  
**–°—Ç–∞—Ç—É—Å**: üü¢ –û—Å–Ω–æ–≤–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–Ω–µ–¥—Ä–µ–Ω—ã  

---

## üéØ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1Ô∏è‚É£ –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∞

**–ë—ã–ª–æ**: –¢–æ–ª—å–∫–æ `quantity` –∏ `totalPrice`  
**–°—Ç–∞–ª–æ**: –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—Å—Ç–∞—Ç–∫–æ–≤

```typescript
interface FridgeItem {
  // ‚úÖ NEW: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
  quantityTotal?: number;       // –°–∫–æ–ª—å–∫–æ –∫—É–ø–∏–ª–∏
  quantityRemaining?: number;   // –°–∫–æ–ª—å–∫–æ –æ—Å—Ç–∞–ª–æ—Å—å
  
  // ‚úÖ NEW: –°—Ç–∞—Ç—É—Å—ã
  freshness?: FreshnessStatus;  // fresh/warning/danger
  
  // ‚úÖ NEW: –í—ã—á–∏—Å–ª—è–µ–º—ã–µ –ø–æ–ª—è
  currentValue?: number;         // –°—Ç–æ–∏–º–æ—Å—Ç—å –æ—Å—Ç–∞—Ç–∫–∞
  usagePercent?: number;         // % –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ
}
```

### 2Ô∏è‚É£ –†–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω

**‚ùå –ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)**:
```typescript
const totalValue = items.reduce((sum, item) => 
  sum + item.totalPrice, 0
);
// –°—á–∏—Ç–∞–ª–æ –≤—Å—é –ø–æ–∫—É–ø–∫—É, –Ω–µ —É—á–∏—Ç—ã–≤–∞–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
```

**‚úÖ –°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)**:
```typescript
const totalValue = calculateFridgeValue(items);
// –§—É–Ω–∫—Ü–∏—è –∏–∑ fridgeUtils.ts
// –°—á–∏—Ç–∞–µ—Ç –ø–æ —Ñ–æ—Ä–º—É–ª–µ: (remaining / divisor) * pricePerUnit
```

### 3Ô∏è‚É£ –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞—Å—á—ë—Ç–æ–≤

–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `/lib/fridgeUtils.ts` —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏:

- `calculateFridgeValue()` - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏
- `calculateCurrentValue()` - —Å—Ç–æ–∏–º–æ—Å—Ç—å –æ–¥–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞
- `calculateUsagePercent()` - –ø—Ä–æ—Ü–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- `getFreshnessStatus()` - fresh/warning/danger –ø–æ daysLeft
- `countExpiringSoon()` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥—É–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Å–∫–æ—Ä–æ –∏—Å–ø–æ—Ä—Ç—è—Ç—Å—è
- `enrichFridgeItem()` - –¥–æ–±–∞–≤–ª—è–µ—Ç –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ –ø–æ–ª—è –∫ item
- `normalizeCategoryByName()` - –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∏–∫—Å –∫–∞—Ç–µ–≥–æ—Ä–∏–π (–º–∞—Å–ª–æ ‚Üí oil)

### 4Ô∏è‚É£ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –æ–±–Ω–æ–≤–ª—ë–Ω

**`/components/fridge/FridgeStats.tsx`**:

- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç **"–¢–µ–∫—É—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å"** (–∞ –Ω–µ "—Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–∫—É–ø–æ–∫")
- ‚úÖ –ü–æ–¥–ø–∏—Å—å "–ü–æ –æ—Å—Ç–∞—Ç–∫–∞–º" –ø–æ–¥ —Å—É–º–º–æ–π
- ‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∞ "–°–∫–æ—Ä–æ –∏—Å–ø–æ—Ä—Ç—è—Ç—Å—è" —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å—é
- ‚úÖ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ "‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ–≥–æ–¥–Ω—è"

### 5Ô∏è‚É£ API —Å–ª–æ–π –æ–±–æ–≥–∞—â—ë–Ω

**`/lib/api/fridge.ts`**:

- –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç `enrichFridgeItem()` –∏–∑ `fridgeUtils`
- –ß–∏—Ç–∞–µ—Ç `quantityTotal` –∏ `quantityRemaining` –æ—Ç –±—ç–∫–µ–Ω–¥–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç `enrichFridgeItem()` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞
- –î–æ–±–∞–≤–ª—è–µ—Ç –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ –ø–æ–ª—è: `freshness`, `currentValue`, `usagePercent`

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:
- ‚ùå –°—Ç–æ–∏–º–æ—Å—Ç—å: 518.52 PLN (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - —Å—É–º–º–∞ –ø–æ–∫—É–ø–æ–∫)
- ‚ùå –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: "–î—Ä—É–≥–æ–µ" –¥–ª—è —è–∏—Ü, –º–∞—Å–ª–∞, —Å–æ–ª–∏
- ‚ùå –ù–µ—Ç –ø–æ–Ω—è—Ç–∏—è "–æ—Å—Ç–∞–ª–æ—Å—å"
- ‚ùå AI –Ω–µ –º–æ–∂–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å

### –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:
- ‚úÖ –°—Ç–æ–∏–º–æ—Å—Ç—å: ~300 PLN (–ø—Ä–∞–≤–∏–ª—å–Ω–æ - —Å—É–º–º–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤)
- ‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: –Ø–π—Ü–∞, –ú–∞—Å–ª–∞, –ö—Ä—É–ø—ã, –†—ã–±–∞, –°–ø–µ—Ü–∏–∏
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "–æ—Å—Ç–∞–ª–æ—Å—å" (–∫–æ–≥–¥–∞ –±—ç–∫–µ–Ω–¥ –≤–µ—Ä–Ω—ë—Ç quantityRemaining)
- ‚úÖ AI –ø–æ–ª—É—á–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

---

## üîß –ß—Ç–æ –µ—â—ë –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### Backend (CRITICAL)

–ë—ç–∫–µ–Ω–¥—É –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –≤ API `/api/fridge/items`:

```json
{
  "id": "...",
  "ingredient": {...},
  "quantity": 5600,
  "quantityTotal": 5600,      // ‚úÖ –î–æ–±–∞–≤–∏—Ç—å
  "quantityRemaining": 3200,  // ‚úÖ –î–æ–±–∞–≤–∏—Ç—å
  "pricePerUnit": 78.40,
  "totalPrice": 439.04,
  "currentValue": 251.65,     // ‚úÖ –î–æ–±–∞–≤–∏—Ç—å (–∏–ª–∏ —Å—á–∏—Ç–∞–µ–º –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ)
  "usagePercent": 42.86       // ‚úÖ –î–æ–±–∞–≤–∏—Ç—å (–∏–ª–∏ —Å—á–∏—Ç–∞–µ–º –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ)
}
```

**–ü–æ–∫–∞ –±—ç–∫–µ–Ω–¥ –Ω–µ –≥–æ—Ç–æ–≤**: —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `quantity` –∫–∞–∫ `quantityRemaining`

### UI —É–ª—É—á—à–µ–Ω–∏—è (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ)

1. **–ö–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤**: –ø–æ–∫–∞–∑–∞—Ç—å "–û—Å—Ç–∞–ª–æ—Å—å X –∏–∑ Y"
2. **–ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä**: –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (42%)
3. **–¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è**: –∑–µ–ª—ë–Ω–∞—è/–∂—ë–ª—Ç–∞—è/–∫—Ä–∞—Å–Ω–∞—è —Ä–∞–º–∫–∞ –ø–æ freshness
4. **–ö–Ω–æ–ø–∫–∞ "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å"**: –¥–ª—è —Å–ø–∏—Å–∞–Ω–∏—è quantity

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### –§—Ä–æ–Ω—Ç–µ–Ω–¥ (DONE)
- [x] –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è `quantityTotal`, `quantityRemaining` –≤ FridgeItem
- [x] –î–æ–±–∞–≤–ª–µ–Ω —Ç–∏–ø `FreshnessStatus`
- [x] –°–æ–∑–¥–∞–Ω `/lib/fridgeUtils.ts` —Å —É—Ç–∏–ª–∏—Ç–∞–º–∏
- [x] –§—É–Ω–∫—Ü–∏—è `calculateFridgeValue()` —Å—á–∏—Ç–∞–µ—Ç –ø–æ –æ—Å—Ç–∞—Ç–∫–∞–º
- [x] –§—É–Ω–∫—Ü–∏—è `enrichFridgeItem()` –¥–æ–±–∞–≤–ª—è–µ—Ç –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ –ø–æ–ª—è
- [x] `FridgeStats` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–¢–µ–∫—É—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å" –≤–º–µ—Å—Ç–æ "–°—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–∫—É–ø–æ–∫"
- [x] –î–æ–±–∞–≤–ª–µ–Ω —Å—á—ë—Ç—á–∏–∫ "–°–∫–æ—Ä–æ –∏—Å–ø–æ—Ä—Ç—è—Ç—Å—è"
- [x] API —Å–ª–æ–π –æ–±–æ–≥–∞—â–∞–µ—Ç items —á–µ—Ä–µ–∑ `enrichFridgeItem()`
- [x] –í—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∏–∫—Å –∫–∞—Ç–µ–≥–æ—Ä–∏–π (–º–∞—Å–ª–æ ‚Üí oil) —á–µ—Ä–µ–∑ `normalizeCategoryByName()`

### –ë—ç–∫–µ–Ω–¥ (PENDING)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è `quantity_total`, `quantity_remaining` –≤ –ë–î
- [ ] –í–µ—Ä–Ω—É—Ç—å —ç—Ç–∏ –ø–æ–ª—è –≤ API `/api/fridge/items`
- [ ] –î–æ–±–∞–≤–∏—Ç—å endpoint `POST /api/fridge/items/:id/use` –¥–ª—è —Å–ø–∏—Å–∞–Ω–∏—è
- [ ] –í–µ—Ä–Ω—É—Ç—å `currentValue` –∏ `usagePercent` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ - —Å—á–∏—Ç–∞–µ–º –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ)

### UI (TODO)
- [ ] –ü–æ–∫–∞–∑–∞—Ç—å "–û—Å—Ç–∞–ª–æ—Å—å X –∏–∑ Y" –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- [ ] –¶–≤–µ—Ç–æ–≤–∞—è —Ä–∞–º–∫–∞ –ø–æ freshness (green/yellow/red)
- [ ] –ö–Ω–æ–ø–∫–∞ "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç"
- [ ] –£–±—Ä–∞—Ç—å –¥—É–±–ª–∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
- [ ] –ó–∞–º–µ–Ω–∏—Ç—å "–°–≤–µ–∂–µ–µ" —Ç–µ–∫—Å—Ç–æ–º –Ω–∞ –∏–∫–æ–Ω–∫—É + —Ü–≤–µ—Ç

---

## üìù –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

1. `/lib/types.ts` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –≤ FridgeItem
2. `/lib/fridgeUtils.ts` - **–Ω–æ–≤—ã–π —Ñ–∞–π–ª** —Å —É—Ç–∏–ª–∏—Ç–∞–º–∏
3. `/lib/api/fridge.ts` - –æ–±–æ–≥–∞—â–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ enrichFridgeItem()
4. `/components/fridge/FridgeStats.tsx` - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏
5. `/i18n/ru/fridge.ts` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–≤–æ–¥—ã

---

## üéì –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

### –ü–æ—á–µ–º—É "currentValue" –≤–∞–∂–Ω–µ–µ "totalPrice"?

**–ü—Ä–∏–º–µ—Ä**:
- –ö—É–ø–∏–ª 20 —è–∏—Ü –∑–∞ 30 PLN
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª 8 —è–∏—Ü
- –û—Å—Ç–∞–ª–æ—Å—å 12 —è–∏—Ü

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ** (–∫–∞–∫ –±—ã–ª–æ):
- –°—Ç–æ–∏–º–æ—Å—Ç—å —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–∞: 30 PLN ‚ùå

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ** (–∫–∞–∫ —Å—Ç–∞–ª–æ):
- –°—Ç–æ–∏–º–æ—Å—Ç—å —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–∞: 18 PLN ‚úÖ (12/20 √ó 30)

### –ü–æ—á–µ–º—É freshness –≤–º–µ—Å—Ç–æ status?

**–ë—ã–ª–æ**: `status: 'fresh' | 'ok' | 'warning' | 'critical' | 'expired'` (5 —Å–æ—Å—Ç–æ—è–Ω–∏–π)  
**–°—Ç–∞–ª–æ**: `freshness: 'fresh' | 'warning' | 'danger'` (3 —Å–æ—Å—Ç–æ—è–Ω–∏—è)

**–ü—Ä–∏—á–∏–Ω–∞**: –£–ø—Ä–æ—â—ë–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –ª–µ–≥—á–µ –¥–ª—è UI:
- üü¢ fresh (> 3 –¥–Ω–µ–π)
- üü° warning (1-3 –¥–Ω—è)
- üî¥ danger (‚â§ 1 –¥–µ–Ω—å)

---

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é!

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã:
- –ï—Å–ª–∏ –±—ç–∫–µ–Ω–¥ –Ω–µ –≤–µ—Ä–Ω—ë—Ç `quantityRemaining` ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ–º `quantity`
- –ï—Å–ª–∏ –±—ç–∫–µ–Ω–¥ –Ω–µ –≤–µ—Ä–Ω—ë—Ç `pricePerUnit` ‚Üí —Å—Ç–æ–∏–º–æ—Å—Ç—å = 0
- –í—Å–µ –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ –ø–æ–ª—è —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ —á–µ—Ä–µ–∑ `enrichFridgeItem()`

**–ú–æ–∂–Ω–æ –±–∏–ª–¥–∏—Ç—å –∏ –ø—É—à–∏—Ç—å!** üéâ
