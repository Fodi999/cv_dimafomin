# AI Mentor Logic - Task Completion Criteria

## üéØ Architecture Philosophy

**AI Mentor ‚â† –ë–æ–ª—Ç—É–Ω**
- AI mentor –ù–ï –≤–µ–¥–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –¥–∏–∞–ª–æ–≥
- –û–Ω **—Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å** –∏ **–¥–≤–∏–≥–∞–µ—Ç –¥–∞–ª—å—à–µ**
- –ò–º–µ–µ—Ç —á–µ—Ç–∫–∏–µ **–∫—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è**

## ‚úÖ Task Completion Criteria

### 1. `ai-question` - Understanding Concepts
**–¶–µ–ª—å**: –°—Ç—É–¥–µ–Ω—Ç –ø–æ–Ω–∏–º–∞–µ—Ç —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –ø—Ä–æ–¥—É–∫—Ç–æ–º –∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–º

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**
- ‚úÖ –£–ø–æ–º–∏–Ω–∞–µ—Ç "–ø—Ä–æ–¥—É–∫—Ç" (≈õwie≈ºy, jako ca≈Ço≈õƒá)
- ‚úÖ –£–ø–æ–º–∏–Ω–∞–µ—Ç "–∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç" –ò–õ–ò –∫–∞—á–µ—Å—Ç–≤–æ (≈õwie≈ºo≈õƒá, jako≈õƒá, termin)
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (–Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç —Å–ª–æ–≤–∞)

**Feedback –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏:**
```
Dok≈Çadnie! Widzisz produkt, a nie tylko sk≈Çadnik.
Zadanie zaliczone (+5 ChefTokens).
Przejd≈∫my do kolejnego zadania.
```

**Hint –µ—Å–ª–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:**
```
Pomy≈õl o r√≥≈ºnicy miƒôdzy 'produktem' (≈õwie≈ºy og√≥rek) a 'sk≈Çadnikiem' (og√≥rek w recepturze).
```

---

### 2. `decision` - Justified Choices
**–¶–µ–ª—å**: –°—Ç—É–¥–µ–Ω—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ —Å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**
- ‚úÖ –û–±—ä—è—Å–Ω—è–µ—Ç –ü–û–ß–ï–ú–£ (dlatego ≈ºe, poniewa≈º, bo)
- ‚úÖ –ü–æ–Ω–∏–º–∞–µ—Ç –ü–û–°–õ–ï–î–°–¢–í–ò–Ø (bƒôdzie, stanie, wp≈Çynie)
- ‚úÖ –ú–∏–Ω–∏–º—É–º 10 —Å–ª–æ–≤ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±–¥—É–º–∞–Ω–Ω–æ—Å—Ç—å)

**Feedback –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏:**
```
≈öwietna decyzja z jasnym uzasadnieniem!
Zadanie zaliczone (+5 ChefTokens).
Przejd≈∫my do kolejnego zadania.
```

**Hint –µ—Å–ª–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:**
```
Wyja≈õnij DLACZEGO tak zdecydowa≈Çe≈õ i CO TO ZMIENI.
```

---

### 3. `analysis` - Observations + Conclusions
**–¶–µ–ª—å**: –°—Ç—É–¥–µ–Ω—Ç –∑–∞–º–µ—á–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ –∏ –¥–µ–ª–∞–µ—Ç –≤—ã–≤–æ–¥—ã

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**
- ‚úÖ –ó–∞–º–µ—á–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ (zauwa≈ºy≈Çem, widzƒô, spostrzegam)
- ‚úÖ –î–µ–ª–∞–µ—Ç –≤—ã–≤–æ–¥—ã (wiƒôc, zatem, dlatego, to znaczy)
- ‚úÖ –ö–æ–Ω–∫—Ä–µ—Ç–∏–∫–∞ (–Ω–µ –æ–±—â–∏–µ —Å–ª–æ–≤–∞)

**Feedback –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏:**
```
Doskona≈Ça analiza z konkretnymi wnioskami!
Zadanie zaliczone (+5 ChefTokens).
Przejd≈∫my do kolejnego zadania.
```

**Hint –µ—Å–ª–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:**
```
CO zauwa≈ºy≈Çe≈õ i CO Z TEGO WYNIKA?
```

---

### 4. `practice` - Action + Reasoning
**–¶–µ–ª—å**: –°—Ç—É–¥–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ —Å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**
- ‚úÖ –û–ø–∏—Å—ã–≤–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ (zrobiƒô, bƒôdƒô, zastosuj)
- ‚úÖ –û–±—ä—è—Å–Ω—è–µ—Ç –∑–∞—á–µ–º (aby, ≈ºeby, w celu, dlatego)
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–ª–∞–Ω (–Ω–µ –ø—Ä–æ—Å—Ç–æ "—Å–¥–µ–ª–∞—é")

**Feedback –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏:**
```
≈öwietnie! Widzƒô konkretny plan dzia≈Çania.
Zadanie zaliczone (+5 ChefTokens).
Przejd≈∫my do kolejnego zadania.
```

**Hint –µ—Å–ª–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:**
```
CO DOK≈ÅADNIE zrobisz i PO CO?
```

---

### 5. `reflection` - Self-Analysis + Future Plan
**–¶–µ–ª—å**: –°—Ç—É–¥–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ–ø—ã—Ç –∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –Ω–∞ –±—É–¥—É—â–µ–µ

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**
- ‚úÖ –†–µ—Ñ–ª–µ–∫—Å–∏—è –æ–ø—ã—Ç–∞ (nauczy≈Çem, zrozumia≈Çem, teraz wiem)
- ‚úÖ –ü–ª–∞–Ω –Ω–∞ –±—É–¥—É—â–µ–µ (nastƒôpnym razem, w przysz≈Ço≈õci, bƒôdƒô pamiƒôta≈Ç)
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–æ—Å—Ç (–Ω–µ –ø—Ä–æ—Å—Ç–æ "–±—ã–ª–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ")

**Feedback –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏:**
```
Doskona≈Ça refleksja! Widzƒô prawdziwe zrozumienie.
Zadanie zaliczone (+10 ChefTokens).  // ‚ö†Ô∏è +10 –¥–ª—è reflection!
Przejd≈∫my do kolejnego zadania.
```

**Hint –µ—Å–ª–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:**
```
CZEGO SIƒò NAUCZY≈ÅE≈ö i JAK TO WYKORZYSTASZ?
```

---

## üîÑ State Machine Logic

### Turn 1: Exploration
- AI –∑–∞–¥–∞–µ—Ç –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å –∏–∑ `aiQuestions[0]`
- **–ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫—Ä–∏—Ç–µ—Ä–∏–∏** (—Å—Ç—É–¥–µ–Ω—Ç –µ—â–µ –Ω–µ –∑–Ω–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç)
- `shouldCompleteTask: false`

### Turn 2: Deeper Dive
- AI –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫—Ä–∏—Ç–µ—Ä–∏–∏
- –ï—Å–ª–∏ **–∫—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã** ‚Üí –∑–∞–≤–µ—Ä—à–∞–µ—Ç –∑–∞–¥–∞–Ω–∏–µ (—É–º–Ω—ã–π —Å—Ç—É–¥–µ–Ω—Ç!)
- –ï—Å–ª–∏ **–Ω–µ—Ç** ‚Üí –∑–∞–¥–∞–µ—Ç –≤–æ–ø—Ä–æ—Å –∏–∑ `aiQuestions[1]` + hint

### Turn 3+: Completion or Guidance
- AI –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫—Ä–∏—Ç–µ—Ä–∏–∏ —Å–Ω–æ–≤–∞
- –ï—Å–ª–∏ **–≤—ã–ø–æ–ª–Ω–µ–Ω—ã** ‚Üí feedback + `shouldCompleteTask: true` + –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- –ï—Å–ª–∏ **–Ω–µ—Ç** ‚Üí –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π hint –∏–∑ criteria check

---

## üß† Key Implementation Details

### 1. **Full Context Analysis**
```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –í–°–Æ –∏—Å—Ç–æ—Ä–∏—é, –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π –æ—Ç–≤–µ—Ç
const allUserMessages = history
  .filter(msg => msg.role === "user")
  .map(msg => msg.message.toLowerCase())
  .join(" ");

const fullContext = `${allUserMessages} ${answerLower}`;
```

### 2. **Regex Patterns for Polish**
```typescript
// –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
const mentionsProduct = /produkt|produktu|≈õwie≈º|jako/.test(fullContext);
const hasReasoning = /dlatego ≈ºe|poniewa≈º|bo|gdy≈º|przez to/.test(fullContext);
```

### 3. **Smart Feedback**
```typescript
// ‚úÖ –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π feedback –∏–∑ criteria check
if (specificFeedback) {
  return `${specificFeedback}\nZadanie zaliczone (+5 ChefTokens).\nPrzejd≈∫my do kolejnego zadania.`;
}
```

---

## ‚ùå What Was WRONG Before

### Problem 1: No Completion Criteria
```typescript
// ‚ùå –ë–´–õ–û
const isThoughtful = answerLength >= 10; // –¢–æ–ª—å–∫–æ –¥–ª–∏–Ω–∞!

// ‚úÖ –°–¢–ê–õ–û
const criteriaCheck = checkTaskCompletionCriteria(taskType, answerLower, history);
// –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –°–ú–´–°–õ, –Ω–µ –¥–ª–∏–Ω—É
```

### Problem 2: Infinite Loop
```typescript
// ‚ùå –ë–´–õ–û
"InteresujƒÖce! Rozwi≈Ñ swojƒÖ my≈õl dalej." // –ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ

// ‚úÖ –°–¢–ê–õ–û
if (criteriaCheck.completed) {
  return { shouldCompleteTask: true, ... }; // –ó–∞–≤–µ—Ä—à–∞–µ—Ç!
}
```

### Problem 3: No Role of Mentor
```typescript
// ‚ùå –ë–´–õ–û: Chatbot without memory

// ‚úÖ –°–¢–ê–õ–û: Mentor with state machine
// - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫—Ä–∏—Ç–µ—Ä–∏–∏
// - –î–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ hints
// - –§–∏–∫—Å–∏—Ä—É–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å
// - –î–≤–∏–≥–∞–µ—Ç –¥–∞–ª—å—à–µ
```

---

## üìä Expected Results

### Before Fix
- ‚ùå AI –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –ø—Ä–æ—Å–∏—Ç "rozwi≈Ñ dalej"
- ‚ùå –ù–µ –Ω–∞—á–∏—Å–ª—è–µ—Ç +5 —Ç–æ–∫–µ–Ω–æ–≤
- ‚ùå –ù–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Zadanie 2/2
- ‚ùå –°—Ç—É–¥–µ–Ω—Ç –∑–∞—Å—Ç—Ä–µ–≤–∞–µ—Ç –Ω–∞ –æ–¥–Ω–æ–º –∑–∞–¥–∞–Ω–∏–∏

### After Fix
- ‚úÖ AI –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏
- ‚úÖ –î–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ hints –µ—Å–ª–∏ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- ‚úÖ –ó–∞–≤–µ—Ä—à–∞–µ—Ç –∑–∞–¥–∞–Ω–∏–µ –∫–æ–≥–¥–∞ —Ü–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞
- ‚úÖ –ù–∞—á–∏—Å–ª—è–µ—Ç —Ç–æ–∫–µ–Ω—ã (+5 –∏–ª–∏ +10)
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å –º–æ–¥—É–ª—è: 1/2 ‚Üí 2/2
- ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ

---

## üöÄ Next Steps (Future Improvements)

### 1. Add More Sophisticated NLP (Optional)
- Sentiment analysis –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–π –æ—Ü–µ–Ω–∫–∏
- Named Entity Recognition –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤ –∫—É–ª–∏–Ω–∞—Ä–∏–∏

### 2. Adaptive Difficulty (Optional)
- –ï—Å–ª–∏ —Å—Ç—É–¥–µ–Ω—Ç –±—ã—Å—Ç—Ä–æ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è ‚Üí —É–≤–µ–ª–∏—á–∏—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å
- –ï—Å–ª–∏ –∑–∞—Å—Ç—Ä–µ–≤–∞–µ—Ç ‚Üí –¥–∞—Ç—å –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ hints

### 3. Real-Time Backend AI (Already Implemented)
- Endpoint: `/api/academy/ai/mentor` 
- Uses Go backend `/api/ai/chef-mentor` for actual AI responses
- Fallback to local logic if backend unavailable

---

## üìù Summary

**–ì–ª–∞–≤–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ:**
- –û—Ç "–¥–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞ ‚â• 10 —Å–ª–æ–≤" 
- –ö "–ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –∑–∞–¥–∞–Ω–∏—è"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- AI mentor –≤–µ–¥–µ—Ç —Å–µ–±—è –∫–∞–∫ **–Ω–∞—Å—Ç–∞–≤–Ω–∏–∫**, –∞ –Ω–µ **–±–æ–ª—Ç—É–Ω**
- –°—Ç—É–¥–µ–Ω—Ç—ã –≤–∏–¥—è—Ç **–ø—Ä–æ–≥—Ä–µ—Å—Å** –∏ –ø–æ–ª—É—á–∞—é—Ç **–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏**
- –°–∏—Å—Ç–µ–º–∞ –∏–º–µ–µ—Ç —á–µ—Ç–∫–∏–π **state machine** —Å —É—Å–ª–æ–≤–∏—è–º–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
